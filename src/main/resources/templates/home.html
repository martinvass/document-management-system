<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="hu">
<!-- HTML Head -->
<head th:replace="~{fragments/header :: html_header(title='DMS - Home', additionalLinks=~{this::page_links})}">
    <th:block th:fragment="page_links">
        <link rel="stylesheet" th:href="@{/css/home.css}">
    </th:block>
</head>
<body>

<!-- Navigation bar -->
<nav th:replace="~{fragments/dashboard/navigation :: navigation_bar}"></nav>

<!-- Alerts -->
<div th:if="${message}" th:replace="~{fragments/toasts-messages :: alert_success(message=${message})}"></div>
<div th:if="${error}" th:replace="~{fragments/toasts-messages :: alert_error(message=${error})}"></div>

<!-- Sidebar + Main content -->
<div th:replace="~{fragments/dashboard/sidebar :: sidebar(content=~{::content})}">
    <div th:fragment="content">
        <div class="container">
            <h2 th:text="'Welcome, ' + ${user.profile.username} + '!'">Welcome</h2>
            <p th:if="${!user.isInCorporation()}">
                You are not currently a member of any corporation. Please join an existing corporation or create a new one to proceed.
            </p>

            <p th:if="${activeProfileId == -1} and ${user.isInCorporation()}">
                Please select a corporation profile to proceed.
            </p>
        </div>
    </div>
</div>

<!-- Create & Join corporation modal -->
<div th:replace="~{corporation/create-modal :: corpCreateModal(${createDto})}"></div>
<div th:replace="~{corporation/join-modal :: corpJoinModal(${joinDto})}"></div>

<!-- Footer scripts -->
<div th:replace="~{fragments/scripts :: footer_scripts}"></div>

</body>
</html>
