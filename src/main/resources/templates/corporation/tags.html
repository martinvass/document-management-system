<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="hu">
<head th:replace="~{fragments/header :: html_header(title='DMS - Tags', additionalLinks=~{this::page_links})}">
    <th:block th:fragment="page_links">
        <link rel="stylesheet" th:href="@{/css/home.css}">
        <style>
            body {
                background-color: #FEFAE0;
                font-family: 'Segoe UI', sans-serif;
            }
            .tag-card {
                background-color: #FFFFFF;
                border-radius: 16px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                padding: 20px;
            }
            .btn-olive {
                background-color: #A4AC86;
                color: white;
                border: none;
                border-radius: 8px;
                transition: 0.2s;
            }
            .btn-olive:hover {
                background-color: #283618;
                color: #FEFAE0;
            }
            .table thead {
                background-color: #E9E3C4;
            }
            .color-indicator {
                width: 18px;
                height: 18px;
                border-radius: 4px;
                display: inline-block;
                margin-right: 8px;
                border: 1px solid rgba(0,0,0,0.2);
                vertical-align: middle;
            }
            .fw-bold.text-olive {
                color: #283618;
            }
            .modal-content {
                border-radius: 12px;
            }
            .form-control-color {
                height: 40px;
                width: 100%;
                border: 1px solid #ccc;
                border-radius: 8px;
            }
        </style>
    </th:block>
</head>

<body>

<!-- Navigation -->
<nav th:replace="~{fragments/dashboard/navigation :: navigation_bar}"></nav>

<!-- Sidebar + Content -->
<div th:replace="~{fragments/dashboard/sidebar :: sidebar(content=~{::content})}">
    <div th:fragment="content" class="container-fluid py-4">

        <!-- Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="fw-bold text-olive">Tag Management</h2>
            <button class="btn btn-olive" data-bs-toggle="modal" data-bs-target="#addTagModal">
                <i class="fas fa-plus me-1"></i> New Tag
            </button>
        </div>

        <!-- Tag List (STATIC DATA) -->
        <div class="tag-card">
            <table class="table align-middle">
                <thead>
                <tr>
                    <th scope="col">Color</th>
                    <th scope="col">Name</th>
                    <th scope="col">Description</th>
                    <th scope="col" class="text-end">Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td><span class="color-indicator" style="background-color:#A4AC86;"></span> #A4AC86</td>
                    <td>Confidential</td>
                    <td>Sensitive internal documents</td>
                    <td class="text-end">
                        <button class="btn btn-sm btn-outline-secondary me-2" data-bs-toggle="modal" data-bs-target="#editTag1">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                    </td>
                </tr>
                <tr>
                    <td><span class="color-indicator" style="background-color:#D7D3B3;"></span> #D7D3B3</td>
                    <td>Finance</td>
                    <td>Invoices, receipts, payment-related files</td>
                    <td class="text-end">
                        <button class="btn btn-sm btn-outline-secondary me-2" data-bs-toggle="modal" data-bs-target="#editTag2">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                    </td>
                </tr>
                <tr>
                    <td><span class="color-indicator" style="background-color:#E9E3C4;"></span> #E9E3C4</td>
                    <td>Legal</td>
                    <td>Contracts and NDAs</td>
                    <td class="text-end">
                        <button class="btn btn-sm btn-outline-secondary me-2" data-bs-toggle="modal" data-bs-target="#editTag3">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- Add Tag Modal -->
        <div class="modal fade" id="addTagModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <form class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title fw-bold">Create New Tag</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label">Tag Name</label>
                            <input type="text" class="form-control" placeholder="e.g. Confidential" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" rows="2" placeholder="Optional description..."></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Color</label>
                            <input type="color" class="form-control form-control-color" value="#A4AC86" title="Choose tag color">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-olive" data-bs-dismiss="modal">Create</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Edit Modals -->
        <div class="modal fade" id="editTag1" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <form class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title fw-bold">Edit Tag - Confidential</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label">Tag Name</label>
                            <input type="text" class="form-control" value="Confidential">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" rows="2">Sensitive internal documents</textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Color</label>
                            <input type="color" class="form-control form-control-color" value="#A4AC86">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-olive" data-bs-dismiss="modal">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="modal fade" id="editTag2" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <form class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title fw-bold">Edit Tag - Finance</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label">Tag Name</label>
                            <input type="text" class="form-control" value="Finance">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" rows="2">Invoices, receipts, payment-related files</textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Color</label>
                            <input type="color" class="form-control form-control-color" value="#D7D3B3">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-olive" data-bs-dismiss="modal">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="modal fade" id="editTag3" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <form class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title fw-bold">Edit Tag - Legal</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label">Tag Name</label>
                            <input type="text" class="form-control" value="Legal">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" rows="2">Contracts and NDAs</textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Color</label>
                            <input type="color" class="form-control form-control-color" value="#E9E3C4">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-olive" data-bs-dismiss="modal">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>

    </div>
</div>

</body>
</html>
